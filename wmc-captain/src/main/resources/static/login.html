<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login - Captain Ledger</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<div id="header-container">
    <h2>üõ°Ô∏è Captain Login</h2>
</div>
<div class="container">
    <input type="text" id="username" placeholder="Username" required>
    <input type="password" id="password" placeholder="Password" required>
    <button onclick="login()">Login</button>
    <p id="message" style="color: red;"></p>
</div>

<script>
    async function login() {
        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;
        const message = document.getElementById("message");

        if (!username || !password) {
            message.textContent = "Please enter both username and password.";
            return;
        }

        const response = await fetch("http://localhost:8080/api/login", {
            method: "POST",
            credentials: "include",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ username, password })
        });

        const data = await response.json();

        if (data.status === "success") {
            window.location.href = "/welcome";
        } else {
            message.textContent = data.message || "Login failed.";
        }
    }
</script>
</body>
</html>



<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Login - Captain Ledger</title>-->
<!--    <link rel="stylesheet" href="css/style.css">-->
<!--</head>-->
<!--<body>-->
<!--<div id="header-container"></div>-->
<!--<div class="container">-->
<!--    <h1>üõ°Ô∏è Captain Login</h1>-->
<!--    <input type="text" id="username" placeholder="Username">-->
<!--    <input type="password" id="password" placeholder="Password">-->
<!--    <button onclick="login()">Login</button>-->
<!--    <p id="message"></p>-->
<!--</div>-->
<!--<script src="js/login.js"></script>-->
<!--<script>-->
<!--    fetch("header.html")-->
<!--      .then(res => res.text())-->
<!--      .then(data => {-->
<!--        document.getElementById("header-container").innerHTML = data;-->
<!--      });-->
<!--</script>-->
<!--</body>-->
<!--</html>-->
